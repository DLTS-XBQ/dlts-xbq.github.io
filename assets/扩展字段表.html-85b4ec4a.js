import{_ as l,r as c,o as p,c as k,e as r,w as a,b as s,f as i,a as n}from"./app-05a70e1b.js";const u={},d=i('<h1 id="扩展字段表" tabindex="-1"><a class="header-anchor" href="#扩展字段表" aria-hidden="true">#</a> 扩展字段表</h1><p>扩展字段表存在的意义是为了提供一种灵活的方式来存储和管理额外的数据，这些数据可能不是主要数据表中需要跟踪的标准字段。它可以用于以下情况：</p><ul><li><em>动态添加字段</em>：当业务需求变化时，可能需要在现有表中添加新字段。但是由于数据库设计的限制，这可能会导致数据表结构的改变和数据迁移的复杂性。扩展字段表可以避免这个问题，因为可以动态地向扩展字段表中添加新字段，而不会影响到主要的数据表结构。</li><li><em>存储非结构化数据</em>：有时候，需要存储一些非结构化的数据，例如图片、音频或视频文件等。将这些数据存储在扩展字段表中可以更好地管理和检索这些数据。</li><li><em>扩展元数据</em>：扩展字段表可以用来存储和管理与主要数据表相关的元数据，例如创建时间、修改时间、创建人等。这些元数据可以提供更多关于主要数据的信息和上下文。</li><li><em>灵活性和扩展性</em>：扩展字段表可以为数据库提供更大的灵活性和扩展性。它可以适应不同的业务需求和数据变化，而不需要频繁地修改主要数据表结构。</li><li><em>针对性</em>：特殊业务场景下，可能存在较少的特别数据需要额外的存储字段，一般情况下是需要在主体表加一个字段进行存储，但该列字段的值仅仅只有较少的特别数据有值，所以推荐通过扩展字段表进行扩展，这样做的好处就是主体表更加统一，数据美观，结构紧凑。</li></ul><p>总的来说，扩展字段表存在的意义是为了提供一种更灵活、更可扩展的方法来存储和管理额外的数据，以满足业务需求的变化和数据的复杂性。</p>',4),m=n("div",{class:"language-sql line-numbers-mode","data-ext":"sql"},[n("pre",{class:"language-sql"},[n("code",null,[n("span",{class:"token comment"},"-- 建议表命名格式: 目标表名_ext"),s(`
`),n("span",{class:"token keyword"},"create"),s(),n("span",{class:"token keyword"},"table"),s(` table_ext
`),n("span",{class:"token punctuation"},"("),s(`
    id          `),n("span",{class:"token keyword"},"bigint"),s("                             "),n("span",{class:"token operator"},"not"),s(),n("span",{class:"token boolean"},"null"),s(),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token string"},"'主键id'"),s(`
        `),n("span",{class:"token keyword"},"primary"),s(),n("span",{class:"token keyword"},"key"),n("span",{class:"token punctuation"},","),s(`
    main_id     `),n("span",{class:"token keyword"},"bigint"),s("                             "),n("span",{class:"token operator"},"not"),s(),n("span",{class:"token boolean"},"null"),s(),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token string"},"'主表id'"),n("span",{class:"token punctuation"},","),s(`
    field_name  `),n("span",{class:"token keyword"},"VARCHAR"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"128"),n("span",{class:"token punctuation"},")"),s("                       "),n("span",{class:"token operator"},"not"),s(),n("span",{class:"token boolean"},"null"),s(),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token string"},"'扩展字段名称'"),n("span",{class:"token punctuation"},","),s(`
    field_type  `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"128"),n("span",{class:"token punctuation"},")"),s("                       "),n("span",{class:"token operator"},"not"),s(),n("span",{class:"token boolean"},"null"),s(),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token string"},"'扩展字段类型'"),n("span",{class:"token punctuation"},","),s(`
    field_value `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"255"),n("span",{class:"token punctuation"},")"),s("                       "),n("span",{class:"token operator"},"not"),s(),n("span",{class:"token boolean"},"null"),s(),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token string"},"'扩展字段值'"),n("span",{class:"token punctuation"},","),s(`
    create_id   `),n("span",{class:"token keyword"},"bigint"),s("                             "),n("span",{class:"token operator"},"not"),s(),n("span",{class:"token boolean"},"null"),s(),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token string"},"'创建人id'"),n("span",{class:"token punctuation"},","),s(`
    create_time `),n("span",{class:"token keyword"},"datetime"),s(),n("span",{class:"token keyword"},"default"),s(),n("span",{class:"token keyword"},"CURRENT_TIMESTAMP"),s(),n("span",{class:"token operator"},"not"),s(),n("span",{class:"token boolean"},"null"),s(),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token string"},"'创建时间'"),n("span",{class:"token punctuation"},","),s(`
    update_id   `),n("span",{class:"token keyword"},"bigint"),s("                             "),n("span",{class:"token operator"},"not"),s(),n("span",{class:"token boolean"},"null"),s(),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token string"},"'修改人id'"),n("span",{class:"token punctuation"},","),s(`
    update_time `),n("span",{class:"token keyword"},"datetime"),s(),n("span",{class:"token keyword"},"default"),s(),n("span",{class:"token keyword"},"CURRENT_TIMESTAMP"),s(),n("span",{class:"token operator"},"not"),s(),n("span",{class:"token boolean"},"null"),s(),n("span",{class:"token keyword"},"on"),s(),n("span",{class:"token keyword"},"update"),s(),n("span",{class:"token keyword"},"CURRENT_TIMESTAMP"),s(),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token string"},"'修改时间'"),s(`
`),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token string"},"'字段扩展表'"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),b=n("div",{class:"language-sql line-numbers-mode","data-ext":"sql"},[n("pre",{class:"language-sql"},[n("code",null,[n("span",{class:"token comment"},"-- 建议表命名格式: 目标表名_EXT"),s(`
`),n("span",{class:"token keyword"},"CREATE"),s(),n("span",{class:"token keyword"},"TABLE"),s(` TABLE_EXT
`),n("span",{class:"token punctuation"},"("),s(`
    ID          NUMBER`),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"20"),n("span",{class:"token punctuation"},")"),s("                          "),n("span",{class:"token operator"},"NOT"),s(),n("span",{class:"token boolean"},"NULL"),s(`
        `),n("span",{class:"token keyword"},"CONSTRAINT"),s(" TABLE_EXT_PK "),n("span",{class:"token keyword"},"PRIMARY"),s(),n("span",{class:"token keyword"},"KEY"),n("span",{class:"token punctuation"},","),s(`
    MAIN_ID     NUMBER`),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"20"),n("span",{class:"token punctuation"},")"),s("                          "),n("span",{class:"token operator"},"NOT"),s(),n("span",{class:"token boolean"},"NULL"),n("span",{class:"token punctuation"},","),s(`
    FIELD_NAME  VARCHAR2`),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"255"),n("span",{class:"token punctuation"},")"),s("                       "),n("span",{class:"token operator"},"NOT"),s(),n("span",{class:"token boolean"},"NULL"),n("span",{class:"token punctuation"},","),s(`
    FIELD_TYPE  VARCHAR2`),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"255"),n("span",{class:"token punctuation"},")"),s("                       "),n("span",{class:"token operator"},"NOT"),s(),n("span",{class:"token boolean"},"NULL"),n("span",{class:"token punctuation"},","),s(`
    FIELD_VALUE VARCHAR2`),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"1024"),n("span",{class:"token punctuation"},")"),s("                      "),n("span",{class:"token operator"},"NOT"),s(),n("span",{class:"token boolean"},"NULL"),n("span",{class:"token punctuation"},","),s(`
    CREATE_ID   NUMBER`),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"20"),n("span",{class:"token punctuation"},")"),s("                          "),n("span",{class:"token operator"},"NOT"),s(),n("span",{class:"token boolean"},"NULL"),n("span",{class:"token punctuation"},","),s(`
    CREATE_TIME `),n("span",{class:"token keyword"},"TIMESTAMP"),s(),n("span",{class:"token keyword"},"DEFAULT"),s(" SYSDATE "),n("span",{class:"token operator"},"NOT"),s(),n("span",{class:"token boolean"},"NULL"),n("span",{class:"token punctuation"},","),s(`
    UPDATE_ID   NUMBER`),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"20"),n("span",{class:"token punctuation"},")"),s("                          "),n("span",{class:"token operator"},"NOT"),s(),n("span",{class:"token boolean"},"NULL"),n("span",{class:"token punctuation"},","),s(`
    UPDATE_TIME `),n("span",{class:"token keyword"},"TIMESTAMP"),s(),n("span",{class:"token keyword"},"DEFAULT"),s(" SYSDATE "),n("span",{class:"token operator"},"NOT"),s(),n("span",{class:"token boolean"},"NULL"),s(`
`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token comment"},"-- 自动更新时间"),s(`
`),n("span",{class:"token keyword"},"create"),s(),n("span",{class:"token operator"},"or"),s(),n("span",{class:"token keyword"},"replace"),s(),n("span",{class:"token keyword"},"trigger"),s(` TABLE_EXT_TRIGGER
    before `),n("span",{class:"token keyword"},"update"),s(),n("span",{class:"token keyword"},"on"),s(" TABLE_EXT "),n("span",{class:"token keyword"},"for each row"),s(`
`),n("span",{class:"token keyword"},"begin"),s(`
    :new`),n("span",{class:"token punctuation"},"."),s("UPDATE_TIME :"),n("span",{class:"token operator"},"="),s(" SYSDATE"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"end"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token comment"},"-- 字段注释"),s(`
`),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token keyword"},"on"),s(),n("span",{class:"token keyword"},"table"),s(" TABLE_EXT "),n("span",{class:"token operator"},"is"),s(),n("span",{class:"token string"},"'字段扩展表'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token keyword"},"on"),s(),n("span",{class:"token keyword"},"column"),s(" TABLE_EXT"),n("span",{class:"token punctuation"},"."),s("ID "),n("span",{class:"token operator"},"is"),s(),n("span",{class:"token string"},"'主键ID'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token keyword"},"on"),s(),n("span",{class:"token keyword"},"column"),s(" TABLE_EXT"),n("span",{class:"token punctuation"},"."),s("MAIN_ID "),n("span",{class:"token operator"},"is"),s(),n("span",{class:"token string"},"'主表ID'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token keyword"},"on"),s(),n("span",{class:"token keyword"},"column"),s(" TABLE_EXT"),n("span",{class:"token punctuation"},"."),s("FIELD_NAME "),n("span",{class:"token operator"},"is"),s(),n("span",{class:"token string"},"'扩展字段名称'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token keyword"},"on"),s(),n("span",{class:"token keyword"},"column"),s(" TABLE_EXT"),n("span",{class:"token punctuation"},"."),s("FIELD_TYPE "),n("span",{class:"token operator"},"is"),s(),n("span",{class:"token string"},"'扩展字段类型'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token keyword"},"on"),s(),n("span",{class:"token keyword"},"column"),s(" TABLE_EXT"),n("span",{class:"token punctuation"},"."),s("FIELD_VALUE "),n("span",{class:"token operator"},"is"),s(),n("span",{class:"token string"},"'扩展字段值'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token keyword"},"on"),s(),n("span",{class:"token keyword"},"column"),s(" TABLE_EXT"),n("span",{class:"token punctuation"},"."),s("CREATE_ID "),n("span",{class:"token operator"},"is"),s(),n("span",{class:"token string"},"'创建人ID'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token keyword"},"on"),s(),n("span",{class:"token keyword"},"column"),s(" TABLE_EXT"),n("span",{class:"token punctuation"},"."),s("CREATE_TIME "),n("span",{class:"token operator"},"is"),s(),n("span",{class:"token string"},"'创建时间'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token keyword"},"on"),s(),n("span",{class:"token keyword"},"column"),s(" TABLE_EXT"),n("span",{class:"token punctuation"},"."),s("UPDATE_ID "),n("span",{class:"token operator"},"is"),s(),n("span",{class:"token string"},"'修改人ID'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token keyword"},"on"),s(),n("span",{class:"token keyword"},"column"),s(" TABLE_EXT"),n("span",{class:"token punctuation"},"."),s("UPDATE_TIME "),n("span",{class:"token operator"},"is"),s(),n("span",{class:"token string"},"'修改时间'"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1);function y(E,w){const t=c("CodeTabs");return p(),k("div",null,[d,r(t,{id:"36",data:[{id:"mysql"},{id:"oracle"}],"tab-id":"sql"},{title0:a(({value:e,isActive:o})=>[s("mysql")]),title1:a(({value:e,isActive:o})=>[s("oracle")]),tab0:a(({value:e,isActive:o})=>[m]),tab1:a(({value:e,isActive:o})=>[b]),_:1})])}const _=l(u,[["render",y],["__file","扩展字段表.html.vue"]]);export{_ as default};
